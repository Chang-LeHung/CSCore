
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Pthread 并发编程（二）——自底向上深入理解线程 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="03pthread.html" />
    
    
    <link rel="prev" href="01pthread.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    基础容器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../container/01-链表设计与实现.html">
            
                <a href="../../container/01-链表设计与实现.html">
            
                    
                    链表设计与Java实现——自己动手写LinkedList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../container/02-linkedlist源码剖析.html">
            
                <a href="../../container/02-linkedlist源码剖析.html">
            
                    
                    LinekdList源码深度剖析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../container/03-array容器设计与实现.html">
            
                <a href="../../container/03-array容器设计与实现.html">
            
                    
                    数组容器(ArrayList)设计与Java实现——自己动手写ArrayList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../container/04-arraylist源码剖析.html">
            
                <a href="../../container/04-arraylist源码剖析.html">
            
                    
                    ArrayList源码剖析，从扩容原理，到迭代器和fast-fail机制，你想要的这都有！！！
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../container/05-hashmap设计与实现.html">
            
                <a href="../../container/05-hashmap设计与实现.html">
            
                    
                    HashMap设计原理与实现（上篇）——哈希表的原理，如何从0到1设计一个HashMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../container/06-hashmap设计与实现.html">
            
                <a href="../../container/06-hashmap设计与实现.html">
            
                    
                    HashMap设计原理与实现（下篇）200行代码带你写自己的HashMap！！！
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../container/07-hashmap源码剖析.html">
            
                <a href="../../container/07-hashmap源码剖析.html">
            
                    
                    HashMap源码深度剖析，手把手带你分析每一行代码，包会！！！
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../container/08-arraydeque源码剖析.html">
            
                <a href="../../container/08-arraydeque源码剖析.html">
            
                    
                    ArrayDeque（JDK双端队列）源码深度剖析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../container/09-arrayqueue源码剖析.html">
            
                <a href="../../container/09-arrayqueue源码剖析.html">
            
                    
                    深入剖析（JDK）ArrayQueue 源码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    高级容器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../java/11blockingqueue.html">
            
                <a href="../java/11blockingqueue.html">
            
                    
                    从零开始自己动手写阻塞队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../java/12blockingqueuesrc.html">
            
                <a href="../java/12blockingqueuesrc.html">
            
                    
                    JDK数组阻塞队列源码深入剖析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    动态规划
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../da/01-动态规划.html">
            
                <a href="../../da/01-动态规划.html">
            
                    
                    庖丁解牛斐波拉契数列和背包问题——详细解析两个问题优化过程（超多问题优化干货，不看血亏），带你从最基本最核心的问题看懂动态规划！！
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../da/02-01背包问题.html">
            
                <a href="../../da/02-01背包问题.html">
            
                    
                    你真的懂01背包问题吗？01背包的这几问你能答出来吗？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../da/03完全背包.html">
            
                <a href="../../da/03完全背包.html">
            
                    
                    面试官：完全背包都不会，是你自己走还是我送你？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../da/04多重背包v1.html">
            
                <a href="../../da/04多重背包v1.html">
            
                    
                    深入剖析多重背包问题（上篇）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../da/04多重背包v2.html">
            
                <a href="../../da/04多重背包v2.html">
            
                    
                    深入剖析多重背包问题（下篇）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../../da/14深入剖析完全背包.html">
            
                <a href="../../da/14深入剖析完全背包.html">
            
                    
                    完全背包转化为多重背包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../../da/13零钱兑换.html">
            
                <a href="../../da/13零钱兑换.html">
            
                    
                    深入浅出零钱兑换问题——背包问题的套壳
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../../da/05深入剖析斐波拉契数列.html">
            
                <a href="../../da/05深入剖析斐波拉契数列.html">
            
                    
                    深入剖析斐波拉契数列
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    股票问题
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../da/09状态机动态规划.html">
            
                <a href="../../da/09状态机动态规划.html">
            
                    
                    这种动态规划你见过吗——状态机动态规划之股票问题(上)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../da/10状态机动态规划02.html">
            
                <a href="../../da/10状态机动态规划02.html">
            
                    
                    这种动态规划你见过吗——状态机动态规划之股票问题(中)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../da/11状态机动态规划03.html">
            
                <a href="../../da/11状态机动态规划03.html">
            
                    
                    这种动态规划你见过吗——状态机动态规划之股票问题(下)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../da/12状态机动态规划总结.html">
            
                <a href="../../da/12状态机动态规划总结.html">
            
                    
                    状态机动态规划之股票问题总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    回溯
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../da/backtrace/01combinations.html">
            
                <a href="../../da/backtrace/01combinations.html">
            
                    
                    通过组合问题看透回溯法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    数据结构
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../da/07表达式求值.html">
            
                <a href="../../da/07表达式求值.html">
            
                    
                    深入剖析前缀、中缀、后缀表达式以及表达式求值
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    并发
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../java/01初始java并发.html">
            
                <a href="../java/01初始java并发.html">
            
                    
                    并发开篇——带你从0到1建立并发知识体系的基石
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../java/02并发的噩梦.html">
            
                <a href="../java/02并发的噩梦.html">
            
                    
                    并发程序的噩梦——数据竞争
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../java/03自己动手写并发工具类.html">
            
                <a href="../java/03自己动手写并发工具类.html">
            
                    
                    30行自己写并发工具类(Semaphore, CyclicBarrier, CountDownLatch)是什么体验?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../java/04volatile.html">
            
                <a href="../java/04volatile.html">
            
                    
                    万字长文：从计算机本源深入探寻volatile和Java内存模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../java/05falsesharing.html">
            
                <a href="../java/05falsesharing.html">
            
                    
                    并发刺客（False Sharing）——并发程序的隐藏杀手
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../java/06futuretask.html">
            
                <a href="../java/06futuretask.html">
            
                    
                    60行从零开始自己动手写FutureTask是什么体验？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../java/07futuretasksrc.html">
            
                <a href="../java/07futuretasksrc.html">
            
                    
                    FutureTask源码深度剖析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="../java/08synchronizedusage.html">
            
                <a href="../java/08synchronizedusage.html">
            
                    
                    深入学习Synchronized各种使用方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="../java/09synchronized.html">
            
                <a href="../java/09synchronized.html">
            
                    
                    Synchronized锁升级原理与过程深入剖析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="../java/10spinlock.html">
            
                <a href="../java/10spinlock.html">
            
                    
                    从零开始自己动手写自旋锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="../java/13locksupport.html">
            
                <a href="../java/13locksupport.html">
            
                    
                    60行自己动手写LockSupport是什么体验？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="../java/14threadpool.html">
            
                <a href="../java/14threadpool.html">
            
                    
                    彻底了解线程池的原理——40行从零开始自己写线程池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="../java/16retalkingthreadpool.html">
            
                <a href="../java/16retalkingthreadpool.html">
            
                    
                    再谈线程池——深入剖析线程池的前世今生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.14" data-path="../java/17threadpoolimplementation.html">
            
                <a href="../java/17threadpoolimplementation.html">
            
                    
                    自己动手写乞丐版线程池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.15" data-path="../java/18threadpoolmorecloseJDK.html">
            
                <a href="../java/18threadpoolmorecloseJDK.html">
            
                    
                    自己动手写线程池——向JDK线程池进发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.16" data-path="../java/11blockingqueue.html">
            
                <a href="../java/11blockingqueue.html">
            
                    
                    从零开始自己动手写阻塞队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.17" data-path="../java/12blockingqueuesrc.html">
            
                <a href="../java/12blockingqueuesrc.html">
            
                    
                    JDK数组阻塞队列源码深入剖析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    OpenMP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../openmp/01introduction.html">
            
                <a href="../openmp/01introduction.html">
            
                    
                    OpenMP 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../openmp/02openmp.html">
            
                <a href="../openmp/02openmp.html">
            
                    
                    OpenMP 教程（一）——OpenMP 当中的 reduction 子句

            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../openmp/03runtime1.html">
            
                <a href="../openmp/03runtime1.html">
            
                    
                    OpenMP 常见的动态库函数使用（上）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../openmp/04runtime2.html">
            
                <a href="../openmp/04runtime2.html">
            
                    
                    Openmp 常见的动态库函数使用（下）——深入剖析锁🔒原理与实现
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../openmp/05environment.html">
            
                <a href="../openmp/05environment.html">
            
                    
                    Openmp 环境变量使用总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../openmp/06sync.html">
            
                <a href="../openmp/06sync.html">
            
                    
                    深入理解 OpenMP 线程同步机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../openmp/07atomic.html">
            
                <a href="../openmp/07atomic.html">
            
                    
                    OpenMP 原子指令设计与实现
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../openmp/08parallel.html">
            
                <a href="../openmp/08parallel.html">
            
                    
                    Parallel Construct 实现原理与源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="../openmp/09sync.html">
            
                <a href="../openmp/09sync.html">
            
                    
                    OpenMP 线程同步 Construct 实现原理以及源码分析（上）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="../openmp/10sync.html">
            
                <a href="../openmp/10sync.html">
            
                    
                    OpenMP 线程同步 Construct 实现原理以及源码分析（下）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="../openmp/11for_dynamic.html">
            
                <a href="../openmp/11for_dynamic.html">
            
                    
                    OpenMP For Construct dynamic 调度方式实现原理和源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="../openmp/12guided.html">
            
                <a href="../openmp/12guided.html">
            
                    
                    OpenMP For Construct guided 调度方式实现原理和源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.13" data-path="../openmp/13seciton.html">
            
                <a href="../openmp/13seciton.html">
            
                    
                    OpenMP Sections Construct 实现原理以及源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.14" data-path="../openmp/14task.html">
            
                <a href="../openmp/14task.html">
            
                    
                    OpenMP task construct 实现原理以及源码分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Pthread
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="01pthread.html">
            
                <a href="01pthread.html">
            
                    
                    Pthread 并发编程（一）——深入剖析线程基本元素和状态
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.2" data-path="02pthread.html">
            
                <a href="02pthread.html">
            
                    
                    Pthread 并发编程（二）——自底向上深入理解线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="03pthread.html">
            
                <a href="03pthread.html">
            
                    
                    Pthread 并发编程（三）——深入理解线程取消机制
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Makefile
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../../tools/makefile/01.html">
            
                <a href="../../tools/makefile/01.html">
            
                    
                    彻底掌握Makefile（一）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../../tools/makefile/02.html">
            
                <a href="../../tools/makefile/02.html">
            
                    
                    彻底掌握Makefile（二）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../../tools/makefile/03.html">
            
                <a href="../../tools/makefile/03.html">
            
                    
                    彻底掌握Makefile（三）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    DES
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../../des/des.html">
            
                <a href="../../des/des.html">
            
                    
                    DES加密算法从入门到入坟
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    命令行&系统编程&SHELL
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../../linux/command/01top.html">
            
                <a href="../../linux/command/01top.html">
            
                    
                    Linux命令系列之top——里面藏着很多鲜为人知的宝藏知识
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../../linux/command/02ls.html">
            
                <a href="../../linux/command/02ls.html">
            
                    
                    Linux命令系列之ls——原来最简单的ls这么复杂
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../../linux/command/03mkls.html">
            
                <a href="../../linux/command/03mkls.html">
            
                    
                    自己动手写ls命令——Java版
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../../linux/command/05ps.html">
            
                <a href="../../linux/command/05ps.html">
            
                    
                    这才是使用ps命令的正确姿势
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="../../linux/command/06kill.html">
            
                <a href="../../linux/command/06kill.html">
            
                    
                    如何优雅的杀掉一个进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.6" data-path="../../linux/programming/01exit.html">
            
                <a href="../../linux/programming/01exit.html">
            
                    
                    C语言中这么骚的退出程序的方式你知道几个？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.7" data-path="../../linux/programming/02sgementation.html">
            
                <a href="../../linux/programming/02sgementation.html">
            
                    
                    你的哪些骚操作会导致Segmentation Fault😂
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.8" data-path="../../linux/programming/03segprincinple.html">
            
                <a href="../../linux/programming/03segprincinple.html">
            
                    
                    深入剖析Sgementation fault原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.9" data-path="../../linux/programming/04processdie.html">
            
                <a href="../../linux/programming/04processdie.html">
            
                    
                    进程最后的遗言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.10" data-path="../../linux/command/04exitstatus.html">
            
                <a href="../../linux/command/04exitstatus.html">
            
                    
                    Shell揭秘——程序退出状态码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.11" data-path="../../linux/shell/01jobcontrol.html">
            
                <a href="../../linux/shell/01jobcontrol.html">
            
                    
                    你在终端启动的进程，最后都是什么下场？（上）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.12" data-path="../../linux/shell/02jobcontrol.html">
            
                <a href="../../linux/shell/02jobcontrol.html">
            
                    
                    你在终端启动的进程，最后都是什么下场？（下）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    计算机系统基础
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../../pl/c_cpp/01builtin.html">
            
                <a href="../../pl/c_cpp/01builtin.html">
            
                    
                    gcc 好玩的 builtin 函数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../../pl/python/misc/01copy.html">
            
                <a href="../../pl/python/misc/01copy.html">
            
                    
                    深入理解 python 对象拷贝和内存布局
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Pthread 并发编程（二）——自底向上深入理解线程</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="pthread-&#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#xFF08;&#x4E8C;&#xFF09;&#x2014;&#x2014;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x6DF1;&#x5165;&#x7406;&#x89E3;&#x7EBF;&#x7A0B;">Pthread &#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#xFF08;&#x4E8C;&#xFF09;&#x2014;&#x2014;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x6DF1;&#x5165;&#x7406;&#x89E3;&#x7EBF;&#x7A0B;</h1>
<h2 id="&#x524D;&#x8A00;">&#x524D;&#x8A00;</h2>
<p>&#x5728;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5F53;&#x4E2D;&#x4E3B;&#x8981;&#x7ED9;&#x5927;&#x5BB6;&#x4ECB;&#x7ECD;&#x7EBF;&#x7A0B;&#x6700;&#x57FA;&#x672C;&#x7684;&#x7EC4;&#x6210;&#x5143;&#x7D20;&#xFF0C;&#x4EE5;&#x53CA;&#x5728; pthread &#x5F53;&#x4E2D;&#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x4E9B;&#x7EBF;&#x7A0B;&#x7684;&#x57FA;&#x672C;&#x673A;&#x5236;&#xFF0C;&#x56E0;&#x4E3A;&#x5F88;&#x591A;&#x8BED;&#x8A00;&#x7684;&#x7EBF;&#x7A0B;&#x673A;&#x5236;&#x5C31;&#x662F;&#x5EFA;&#x7ACB;&#x5728; pthread &#x7EBF;&#x7A0B;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4; Python &#x548C; Java&#xFF0C;&#x6DF1;&#x5165;&#x7406;&#x89E3; pthread &#x7684;&#x7EBF;&#x7A0B;&#x5B9E;&#x73B0;&#x673A;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x7684;&#x63D0;&#x5347;&#x6211;&#x4EEC;&#x5BF9;&#x4E8E;&#x8BED;&#x8A00;&#x7EBF;&#x7A0B;&#x7684;&#x8BA4;&#x8BC6;&#x3002;&#x5E0C;&#x671B;&#x80FD;&#x591F;&#x5E2E;&#x52A9;&#x5927;&#x5BB6;&#x6DF1;&#x5165;&#x7406;&#x89E3;&#x7EBF;&#x7A0B;&#x3002;</p>
<h2 id="&#x7EBF;&#x7A0B;&#x7684;&#x57FA;&#x672C;&#x5143;&#x7D20;">&#x7EBF;&#x7A0B;&#x7684;&#x57FA;&#x672C;&#x5143;&#x7D20;</h2>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x4E00;&#x4E9B;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;&#x7EBF;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#x7684;&#x5E38;&#x7528;&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x5F88;&#x4E86;&#x89E3;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#x6211;&#x4EEC;&#x5728;&#x540E;&#x7EED;&#x7684;&#x6587;&#x7AE0;&#x5F53;&#x4E2D;&#x4F1A;&#x4ED4;&#x7EC6;&#x8C08;&#x8BBA;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x3002;</p>
<ul>
<li>&#x7EBF;&#x7A0B;&#x7684;&#x5E38;&#x89C1;&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#xFF1A;<ul>
<li>&#x7EBF;&#x7A0B;&#x7684;&#x521B;&#x5EFA;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x7684;&#x7EC8;&#x6B62;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x7684;&#x540C;&#x6B65;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x5F53;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x4E0E;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x4E92;&#x3002;</li>
</ul>
</li>
<li>&#x5728; linux &#x5F53;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x7EBF;&#x7A0B;&#x548C;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x3002;</li>
<li><p>&#x8FDB;&#x7A0B;&#x4E0E;&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x4E00;&#x4E9B;&#x5185;&#x6838;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF1A;</p>
<ul>
<li>&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</li>
<li>&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li>&#x7528;&#x6237; id &#x548C;&#x7528;&#x6237;&#x7EC4; id &#x3002;</li>
<li>&#x5168;&#x5C40;&#x6570;&#x636E;&#x6BB5;&#x7684;&#x6570;&#x636E;&#x3002;</li>
<li>&#x8FDB;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x3002;</li>
<li>&#x4FE1;&#x53F7;&#xFF08;signals&#xFF09;&#x548C;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF08;signal handlers&#xFF09;&#x3002;</li>
</ul>
</li>
<li><p>&#x7EBF;&#x7A0B;&#x72EC;&#x6709;&#x7684;&#xFF1A;</p>
<ul>
<li>&#x7EBF;&#x7A0B;&#x7684; ID &#x3002;</li>
<li>&#x5BC4;&#x5B58;&#x5668;&#x7EBF;&#x7A0B;&#x548C;&#x6808;&#x7A7A;&#x95F4;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x7684;&#x6808;&#x5F53;&#x4E2D;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x548C;&#x8FD4;&#x56DE;&#x5730;&#x5740;&#x3002;</li>
<li>&#x4FE1;&#x53F7;&#x63A9;&#x7801;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x81EA;&#x5DF1;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x3002;</li>
<li>errno&#x3002;</li>
</ul>
</li>
</ul>
<p>&#x5728;&#x6240;&#x6709;&#x7684; pthread &#x7684;&#x63A5;&#x53E3;&#x5F53;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F; 0 &#x7684;&#x65F6;&#x5019;&#x8868;&#x793A;&#x8C03;&#x7528;&#x6210;&#x529F;&#x3002;</p>
<h2 id="&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;">&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;</h2>
<p>&#x5728; pthread &#x7684;&#x5B9E;&#x73B0;&#x5F53;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x4E24;&#x4E2A;&#x7279;&#x6027;&#xFF1A;joinable &#x548C; detached&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x65F6;&#x5019; (pthread_create) &#x7EBF;&#x7A0B;&#x7684;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#x662F; joinable&#xFF0C;&#x6240;&#x8C13; joinable &#x662F;&#x8868;&#x793A;&#x7EBF;&#x7A0B;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; pthread_join &#x8FDB;&#x884C;&#x540C;&#x6B65;&#x7684;&#x3002;</p>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8C03;&#x7528; pthread_join(T, ret)&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x8868;&#x793A;&#x7EBF;&#x7A0B; T &#x5DF2;&#x7ECF;&#x7EC8;&#x6B62;&#x4E86;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x3002;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x91CA;&#x653E;&#x4E0E;&#x7EBF;&#x7A0B; T &#x7684;&#x76F8;&#x5173;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#x662F; detached &#x72B6;&#x6001;&#x7684;&#x8BDD;&#xFF0C;&#x5F53;&#x7EBF;&#x7A0B;&#x7ED3;&#x675F;&#x7684;&#x65F6;&#x5019;&#x4E0E;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x76F8;&#x5173;&#x7684;&#x8D44;&#x6E90;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6389;&#xFF0C;&#x5C06;&#x8D44;&#x6E90;&#x5F52;&#x8FD8;&#x7ED9;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E5F;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5176;&#x4ED6;&#x7684;&#x7EBF;&#x7A0B;&#x8C03;&#x7528; pthread_join &#x6765;&#x91CA;&#x653E;&#x7EBF;&#x7A0B;&#x7684;&#x8D44;&#x6E90;&#x3002;</p>
<p>pthread_join &#x51FD;&#x6570;&#x7B7E;&#x540D;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>int pthread_join(pthread_t thread, void **retval);
</code></pre><ul>
<li>thread &#x8868;&#x793A;&#x7B49;&#x5F85;&#x7684;&#x7EBF;&#x7A0B;&#x3002;</li>
<li>retval &#x5982;&#x679C; retval &#x4E0D;&#x7B49;&#x4E8E; NULL &#x5219;&#x5728; pthread_join &#x51FD;&#x6570;&#x5185;&#x90E8;&#x4F1A;&#x5C06;&#x7EBF;&#x7A0B; thead &#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;&#x62F7;&#x8D1D;&#x5230; retval &#x6307;&#x5411;&#x7684;&#x5730;&#x5740;&#x3002;&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x88AB;&#x53D6;&#x6D88;&#x4E86;&#xFF0C;&#x90A3;&#x4E48; PTHREAD_CANCELED &#x5C06;&#x4F1A;&#x88AB;&#x653E;&#x5728; retval &#x6307;&#x5411;&#x7684;&#x5730;&#x5740;&#x3002;</li>
<li>&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;<ul>
<li>EDEADLK &#x8868;&#x793A;&#x68C0;&#x6D4B;&#x5230;&#x6B7B;&#x9501;&#x4E86;&#xFF0C;&#x6BD4;&#x5165;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x8C03;&#x7528; pthread_join &#x51FD;&#x6570;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x3002;</li>
<li>EINVAL &#x7EBF;&#x7A0B;&#x4E0D;&#x662F;&#x4E00;&#x4E2A; joinable &#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x60C5;&#x51B5;&#x5C31;&#x662F; pthread_join &#x4E00;&#x4E2A; detached &#x7EBF;&#x7A0B;&#x3002;</li>
<li>EINVAL &#x5F53;&#x8C03;&#x7528; pthrea_join &#x7B49;&#x5F85;&#x7684;&#x7EBF;&#x7A0B;&#x6B63;&#x5728;&#x88AB;&#x522B;&#x7684;&#x7EBF;&#x7A0B;&#x8C03;&#x7528; pthread_join &#x7B49;&#x5F85;&#x3002;</li>
<li>ESRCH &#x5982;&#x679C;&#x53C2;&#x6570; thread &#x662F;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982;&#x6CA1;&#x6709;&#x4F7F;&#x7528; pthread_create &#x8FDB;&#x884C;&#x521B;&#x5EFA;&#x3002;</li>
<li>0 &#x8868;&#x793A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6210;&#x529F;&#x3002;</li>
</ul>
</li>
</ul>
<p>&#x5728;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x4F7F;&#x7528; pthread_join &#x51FD;&#x6570;&#x53BB;&#x7B49;&#x5F85;&#x4E00;&#x4E2A; detached &#x7EBF;&#x7A0B;&#xFF1A;</p>
<pre><code class="lang-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;error.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;errno.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>

<span class="hljs-keyword">pthread_t</span> t1, t2;

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">thread_1</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{

  <span class="hljs-keyword">int</span> ret = pthread_detach(pthread_self());
  sleep(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">0</span>)
    perror(<span class="hljs-string">&quot;&quot;</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}


<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{

  pthread_create(&amp;t1, <span class="hljs-literal">NULL</span>, thread_1, <span class="hljs-literal">NULL</span>);
  sleep(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">int</span> ret = pthread_join(t1, <span class="hljs-literal">NULL</span>);
  <span class="hljs-keyword">if</span>(ret == ESRCH)
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No thread with the ID thread could be found.\n&quot;</span>);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(ret == EINVAL) {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;thread is not a joinable thread or Another thread is already waiting to join with this thread\n&quot;</span>);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>$ ./join.out
thread is not a joinable thread or Another thread is already waiting to join with this thread
</code></pre><p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x5728;&#x4E00;&#x4E2A; detached &#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#x4E0A;&#x4F7F;&#x7528; pthread_join &#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F; EINVAL &#x8868;&#x793A;&#x7EBF;&#x7A0B;&#x4E0D;&#x662F;&#x4E00;&#x4E2A; joinable &#x7684;&#x7EBF;&#x7A0B;&#x3002;</p>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D; pthread_self() &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x662F; pthread_t &#xFF0C;&#x51FD;&#x6570; pthread_detach(thread) &#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x5C06;&#x4F20;&#x5165;&#x7684;&#x7EBF;&#x7A0B; thread &#x7684;&#x72B6;&#x6001;&#x53D8;&#x6210; detached &#x72B6;&#x6001;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x518D;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x7684;&#x7EBF;&#x7A0B;&#x4E0A;&#x8C03;&#x7528; pthread_join &#x51FD;&#x6570;</p>
<pre><code class="lang-c">

<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;error.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;errno.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>

<span class="hljs-keyword">pthread_t</span> t1, t2;

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">thread_1</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{

  <span class="hljs-keyword">int</span> ret = pthread_detach(pthread_self());
  sleep(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">0</span>)
    perror(<span class="hljs-string">&quot;&quot;</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}


<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{

  pthread_create(&amp;t1, <span class="hljs-literal">NULL</span>, thread_1, <span class="hljs-literal">NULL</span>);
  sleep(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">int</span> ret = pthread_join(t2, <span class="hljs-literal">NULL</span>);
  <span class="hljs-keyword">if</span>(ret == ESRCH)
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No thread with the ID thread could be found.\n&quot;</span>);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(ret == EINVAL) {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;thread is not a joinable thread or Another thread is already waiting to join with this thread\n&quot;</span>);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>$./oin01.out
No thread with the ID thread could be found.
</code></pre><p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x4F7F;&#x7528; t2 &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4F46;&#x662F;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x5F53;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; pthread_join &#x53BB;&#x7B49;&#x5F85;&#x4ED6;&#xFF0C;&#x56E0;&#x6B64;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A; EINVAL &#x3002;</p>
<p>&#x6211;&#x4EEC;&#x518D;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x4F7F;&#x7528; retval &#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/types.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span>
</span>{
  pthread_exit((<span class="hljs-keyword">void</span>*)<span class="hljs-number">100</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">pthread_t</span> t;
  pthread_create(&amp;t, <span class="hljs-literal">NULL</span>, func, <span class="hljs-literal">NULL</span>);

  <span class="hljs-keyword">void</span>* ret;
  pthread_join(t, &amp;ret);
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ret = %ld\n&quot;</span>, (<span class="hljs-keyword">u_int64_t</span>)(ret));
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>$./understandthread/join03.out
ret = 100
</code></pre><p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x53C2;&#x6570; ret &#x53BB;&#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x4E86;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x5728;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x4F7F;&#x7528; pthread_exit &#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x660E;&#x786E;&#x7684;&#x6307;&#x51FA;&#x7EBF;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x7EBF;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#x5C31;&#x662F;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x7684;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code class="lang-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/types.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span>
</span>{
  <span class="hljs-keyword">return</span> (<span class="hljs-keyword">void</span>*)<span class="hljs-number">100</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">pthread_t</span> t;
  pthread_create(&amp;t, <span class="hljs-literal">NULL</span>, func, <span class="hljs-literal">NULL</span>);

  <span class="hljs-keyword">void</span>* ret;
  pthread_join(t, &amp;ret);
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ret = %ld\n&quot;</span>, (<span class="hljs-keyword">u_int64_t</span>)(ret));
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E5F;&#x662F; 100 &#xFF0C;&#x8FD9;&#x4E0E;&#x6211;&#x4EEC;&#x671F;&#x5F85;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;</p>
<h2 id="&#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x7684;&#x6808;&#x5E27;&#x548C;pc&#x503C;">&#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x7684;&#x6808;&#x5E27;&#x548C;PC&#x503C;</h2>
<p>&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x6808;&#x5E27;&#x548C;PC&#x5BC4;&#x5B58;&#x5668;&#xFF08;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5728; x86_86 &#x91CC;&#x9762;&#x5C31;&#x662F; rip &#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#xFF09;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7A0B;&#x5E8F;&#x5728;&#x6267;&#x884C;&#x65F6;&#x5019;&#x7684;&#x4E09;&#x4E2A;&#x5BC4;&#x5B58;&#x5668; rsp, rbp, rip &#x7684;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x65F6;&#x5019;&#x7684;&#x8F93;&#x51FA;&#x662F;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E5F;&#x4ECE;&#x4FA7;&#x9762;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x7EBF;&#x7A0B;&#x662F;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x6808;&#x5E27;&#x548C;PC&#x503C;&#x7684;&#x3002;</p>
<pre><code class="lang-c">#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;
#include &lt;sys/types.h&gt;

u_int64_t rsp;
u_int64_t rbp;
u_int64_t rip;

void find_rip() {
  asm volatile(
    &quot;movq 8(%%rbp), %0;&quot;
    :&quot;=r&quot;(rip)::
  );
}

void* func(void* arg) {
  printf(&quot;In func\n&quot;);
  asm volatile(             \
    &quot;movq %%rsp, %0;&quot;       \
    &quot;movq %%rbp, %1;&quot;       \
    :&quot;=m&quot;(rsp), &quot;=m&quot;(rbp):: \
  );
  find_rip();
  printf(&quot;stack frame: rsp = %p rbp = %p rip = %p\n&quot;, (void*)rsp, (void*)rbp, (void*) rip);
  return NULL;
}

int main() {
  printf(&quot;================\n&quot;);
  printf(&quot;In main\n&quot;);
  asm volatile(             \
    &quot;movq %%rsp, %0;&quot;       \
    &quot;movq %%rbp, %1;&quot;       \
    :&quot;=m&quot;(rsp), &quot;=m&quot;(rbp):: \
  );
  find_rip();
  printf(&quot;stack frame: rsp = %p rbp = %p rip = %p\n&quot;, (void*)rsp, (void*)rbp, (void*) rip);
  printf(&quot;================\n&quot;);
  pthread_t t;
  pthread_create(&amp;t, NULL, func, NULL);
  pthread_join(t, NULL);
  return 0;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>================
In main
stack frame: rsp = 0x7ffc47096d50 rbp = 0x7ffc47096d80 rip = 0x4006c6
================
In func
stack frame: rsp = 0x7f0a60d43ee0 rbp = 0x7f0a60d43ef0 rip = 0x400634
</code></pre><p>&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x770B;&#x4E3B;&#x7EBF;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B; t &#x6267;&#x884C;&#x7684;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x800C;&#x4E14;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x6808;&#x5E27;&#x5DEE;&#x8DDD;&#x8FD8;&#x662F;&#x5F88;&#x5927;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x8BA1;&#x7B97;&#x4E00;&#x4E0B; 0x7ffc47096d80 - 0x7f0a60d43ef0 = 1038949363344 = 968G &#x7684;&#x5185;&#x5B58;&#xFF0C;&#x56E0;&#x6B64;&#x5F88;&#x660E;&#x663E;&#x8FD9;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x6808;&#x5E27;&#x3002;</p>
<h2 id="&#x7EBF;&#x7A0B;&#x7684;&#x7EBF;&#x7A0B;&#x53F7;">&#x7EBF;&#x7A0B;&#x7684;&#x7EBF;&#x7A0B;&#x53F7;</h2>
<p>&#x5728; pthread &#x5F53;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5185;&#x6838;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x5185;&#x6838;&#x548C; pthread &#x90FD;&#x7ED9;&#x7EBF;&#x7A0B;&#x7EF4;&#x62A4;&#x4E86;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684; id &#x53F7;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; gettid &#x83B7;&#x53D6;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7ED9;&#x6211;&#x4EEC;&#x7EF4;&#x62A4;&#x7684;&#x7EBF;&#x7A0B;&#x53F7;&#xFF0C;&#x4F7F;&#x7528;&#x51FD;&#x6570; pthread_self &#x5F97;&#x5230; pthread &#x7EBF;&#x7A0B;&#x5E93;&#x7ED9;&#x6211;&#x4EEC;&#x7EF4;&#x62A4;&#x7684;&#x7EBF;&#x7A0B;&#x53F7;&#xFF01;</p>
<pre><code class="lang-c">
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> _GNU_SOURCE</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/types.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;pthread id = %ld tid = %d\n&quot;</span>, pthread_self(), (<span class="hljs-keyword">int</span>)gettid());
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">pthread_t</span> t;
  pthread_create(&amp;t, <span class="hljs-literal">NULL</span>, func, <span class="hljs-literal">NULL</span>);
  pthread_join(t, <span class="hljs-literal">NULL</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>pthread id = 140063790135040 tid = 161643
</code></pre><h2 id="&#x7EBF;&#x7A0B;&#x4E0E;&#x4FE1;&#x53F7;">&#x7EBF;&#x7A0B;&#x4E0E;&#x4FE1;&#x53F7;</h2>
<p>&#x5728; pthread &#x5E93;&#x5F53;&#x4E2D;&#x4E3B;&#x8981;&#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x5728; pthread &#x5E93;&#x5F53;&#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x51FD;&#x6570; pthread_kill &#x7ED9;&#x5176;&#x4ED6;&#x7684;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x3002;</p>
<pre><code> 1) SIGHUP     2) SIGINT     3) SIGQUIT     4) SIGILL     5) SIGTRAP
 6) SIGABRT     7) SIGBUS     8) SIGFPE     9) SIGKILL    10) SIGUSR1
11) SIGSEGV    12) SIGUSR2    13) SIGPIPE    14) SIGALRM    15) SIGTERM
16) SIGSTKFLT    17) SIGCHLD    18) SIGCONT    19) SIGSTOP    20) SIGTSTP
21) SIGTTIN    22) SIGTTOU    23) SIGURG    24) SIGXCPU    25) SIGXFSZ
26) SIGVTALRM    27) SIGPROF    28) SIGWINCH    29) SIGIO    30) SIGPWR
31) SIGSYS    34) SIGRTMIN    35) SIGRTMIN+1    36) SIGRTMIN+2    37) SIGRTMIN+3
38) SIGRTMIN+4    39) SIGRTMIN+5    40) SIGRTMIN+6    41) SIGRTMIN+7    42) SIGRTMIN+8
43) SIGRTMIN+9    44) SIGRTMIN+10    45) SIGRTMIN+11    46) SIGRTMIN+12    47) SIGRTMIN+13
48) SIGRTMIN+14    49) SIGRTMIN+15    50) SIGRTMAX-14    51) SIGRTMAX-13    52) SIGRTMAX-12
53) SIGRTMAX-11    54) SIGRTMAX-10    55) SIGRTMAX-9    56) SIGRTMAX-8    57) SIGRTMAX-7
58) SIGRTMAX-6    59) SIGRTMAX-5    60) SIGRTMAX-4    61) SIGRTMAX-3    62) SIGRTMAX-2
63) SIGRTMAX-1    64) SIGRTMAX
</code></pre><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5F53;&#x4E2D;&#x54CD;&#x5E94;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x5E76;&#x4E14;&#x54CD;&#x5E94;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x5177;&#x4F53;&#x7684;&#x4F8B;&#x5B50;&#x6DF1;&#x5165;&#x4E86;&#x89E3;&#x7EBF;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x673A;&#x5236;&#x4E4B;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5230;&#x7684;&#x662F;&#x5728; pthread &#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x662F;&#x5171;&#x4EAB;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5F53;&#x4E2D;&#x4FEE;&#x6539;&#x4E86;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x7ED3;&#x679C;&#x662F;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x7684;&#x3002;</p>
<pre><code class="lang-c">
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> _GNU_SOURCE</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;signal.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sig</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signo)</span> </span>{
  <span class="hljs-keyword">char</span> s[<span class="hljs-number">1024</span>];
  <span class="hljs-built_in">sprintf</span>(s, <span class="hljs-string">&quot;signo = %d tid = %d pthread tid = %ld\n&quot;</span>, signo, gettid(), pthread_self());
  write(STDOUT_FILENO, s, <span class="hljs-built_in">strlen</span>(s));
}

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;pthread tid = %ld\n&quot;</span>, pthread_self());
  <span class="hljs-keyword">for</span>(;;);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  signal(SIGHUP, sig);
  signal(SIGTERM, sig);
  signal(SIGSEGV, sig);
  <span class="hljs-keyword">pthread_t</span> t;
  pthread_create(&amp;t, <span class="hljs-literal">NULL</span>, func, <span class="hljs-literal">NULL</span>);

  sleep(<span class="hljs-number">1</span>);
  pthread_kill(t, SIGHUP);
  sleep(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>pthread tid = 140571386894080
signo = 1 tid = 7785 pthread tid = 140571386894080
</code></pre><p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x5728;&#x4E3B;&#x51FD;&#x6570;&#x91CC;&#x9762;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x4E86;&#x51E0;&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5C06; SIGHUP&#x3001;SIGTERM &#x548C; SIGSEGV &#x4FE1;&#x53F7;&#x7684;&#x5904;&#x7406;&#x51FD;&#x6570;&#x5168;&#x90E8;&#x58F0;&#x660E;&#x4E3A;&#x51FD;&#x6570; sig &#xFF0C;&#x8FDB;&#x7A0B;&#x5F53;&#x4E2D;&#x7684;&#x7EBF;&#x7A0B;&#x63A5;&#x53D7;&#x5230;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x5BF9;&#x5E94;&#x7684;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x4E3B;&#x7EBF;&#x7A0B;&#x4F1A;&#x7ED9;&#x7EBF;&#x7A0B; t &#x53D1;&#x9001;&#x4E00;&#x4E2A; SIGHUP &#x4FE1;&#x53F7;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x9762;&#x4FE1;&#x53F7;&#x548C;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053; SIGHUP &#x5BF9;&#x5E94;&#x7684;&#x4FE1;&#x53F7;&#x7684;&#x6570;&#x5B57;&#x7B49;&#x4E8E; 1 &#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x786E;&#x5B9E;&#x5F97;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x3002;</p>
<p>&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7EBF;&#x7A0B;&#x81EA;&#x5DF1;&#x7684;&#x4FE1;&#x53F7;&#x63A9;&#x7801;&#xFF0C;&#x5728;&#x524D;&#x6587;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x63D0;&#x5230;&#x4E86;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x62E5;&#x6709;&#x7EBF;&#x7A0B;&#x81EA;&#x5DF1;&#x7684;&#x63A9;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x53EA;&#x6709;&#x7EBF;&#x7A0B; 2 &#x54CD;&#x5E94;&#x4E86;&#x4E3B;&#x7EBF;&#x7A0B;&#x53D1;&#x9001;&#x7684; SIGTERM &#x4FE1;&#x53F7;&#x3002;</p>
<pre><code class="lang-c">
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> _GNU_SOURCE</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;signal.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sig</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signo)</span> </span>{
  <span class="hljs-keyword">char</span> s[<span class="hljs-number">1024</span>];
  <span class="hljs-built_in">sprintf</span>(s, <span class="hljs-string">&quot;signo = %d tid = %d pthread tid = %ld\n&quot;</span>, signo, gettid(), pthread_self());
  write(STDOUT_FILENO, s, <span class="hljs-built_in">strlen</span>(s));
}

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{
  <span class="hljs-keyword">sigset_t</span> <span class="hljs-built_in">set</span>;
  sigemptyset(&amp;<span class="hljs-built_in">set</span>);
  sigaddset(&amp;<span class="hljs-built_in">set</span>, SIGTERM);
  pthread_sigmask(SIG_BLOCK, &amp;<span class="hljs-built_in">set</span>, <span class="hljs-literal">NULL</span>);
  <span class="hljs-comment">// &#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;&#x662F;&#x963B;&#x585E; SIGTERM &#x8FD9;&#x4E2A;&#x4FE1;&#x53F7; &#x5F53;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;</span>
  <span class="hljs-comment">// &#x800C;&#x662F;&#x4F1A;&#x7B49;&#x5230;&#x5C06;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x53D8;&#x6210;&#x975E;&#x963B;&#x585E;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x54CD;&#x5E94;</span>
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;func : pthread tid = %ld\n&quot;</span>, pthread_self());
  <span class="hljs-keyword">for</span>(;;);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func02</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;func02 : pthread tid = %ld\n&quot;</span>, pthread_self());
  <span class="hljs-keyword">for</span>(;;);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  signal(SIGTERM, sig);
  <span class="hljs-keyword">pthread_t</span> t1;
  pthread_create(&amp;t1, <span class="hljs-literal">NULL</span>, func, <span class="hljs-literal">NULL</span>);
  sleep(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">pthread_t</span> t2;
  pthread_create(&amp;t2, <span class="hljs-literal">NULL</span>, func02, <span class="hljs-literal">NULL</span>);
  sleep(<span class="hljs-number">1</span>);
  pthread_kill(t1, SIGTERM);
  pthread_kill(t2, SIGTERM);
  sleep(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x5E76;&#x4E14;&#x5B9A;&#x4E49;&#x4E86; SIGTERM &#x7684;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7EBF;&#x7A0B; 1 &#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x4FEE;&#x6539;&#x4E86;&#x81EA;&#x5DF1;&#x963B;&#x585E;&#x7684;&#x4FE1;&#x53F7;&#x96C6;&#xFF0C;&#x5C06; SIGTERM &#x53D8;&#x6210;&#x4E86;&#x4E00;&#x79CD;&#x963B;&#x585E;&#x4FE1;&#x53F7;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5F53;&#x7EBF;&#x7A0B;&#x63A5;&#x53D7;&#x5230; SIGTERM &#x7684;&#x4FE1;&#x53F7;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x8C03;&#x7528; SIGTERM &#x7684;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x53EA;&#x6709;&#x5C06;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x53D8;&#x6210;&#x975E;&#x963B;&#x585E;&#x7684;&#x65F6;&#x5019;&#x624D;&#x80FD;&#x591F;&#x54CD;&#x5E94;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#xFF0C;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x7EBF;&#x7A0B; t2 &#x5E76;&#x6CA1;&#x6709;&#x963B;&#x585E;&#x4FE1;&#x53F7; SIGTERM &#xFF0C;&#x56E0;&#x6B64;&#x7EBF;&#x7A0B; t2 &#x4F1A;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>func : pthread tid = 139887896323840
func02 : pthread tid = 139887887931136
signo = 15 tid = 10652 pthread tid = 139887887931136
</code></pre><p>&#x6839;&#x636E;&#x4E0A;&#x9762;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x7EBF;&#x7A0B; t2 &#x786E;&#x5B9E;&#x8C03;&#x7528;&#x4E86;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF08;&#x6839;&#x636E; pthread tid &#xFF09;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#xFF0C;&#x800C;&#x7EBF;&#x7A0B; t1 &#x6CA1;&#x6709;&#x6267;&#x884C;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x5728;&#x4E0A;&#x6587;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x8FD8;&#x63D0;&#x5230;&#x4E86;&#x5728;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5F53;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x5957;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x91CC;&#x9762;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x5C06;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x4ED6;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code class="lang-c">
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> _GNU_SOURCE</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;signal.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sig</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signo)</span> </span>{
  <span class="hljs-keyword">char</span> s[<span class="hljs-number">1024</span>];
  <span class="hljs-built_in">sprintf</span>(s, <span class="hljs-string">&quot;signo = %d tid = %d pthread tid = %ld\n&quot;</span>, signo, gettid(), pthread_self());
  write(STDOUT_FILENO, s, <span class="hljs-built_in">strlen</span>(s));
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sig2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signo)</span> </span>{
  <span class="hljs-keyword">char</span>* s = <span class="hljs-string">&quot;thread-defined\n&quot;</span>;
  write(STDOUT_FILENO, s, <span class="hljs-built_in">strlen</span>(s));
}

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{
  signal(SIGSEGV, sig2);
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;pthread tid = %ld\n&quot;</span>, pthread_self());
  <span class="hljs-keyword">for</span>(;;);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func02</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span> </span>{
  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;pthread tid = %ld\n&quot;</span>, pthread_self());
  <span class="hljs-keyword">for</span>(;;);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
  signal(SIGSEGV, sig);
  <span class="hljs-keyword">pthread_t</span> t;
  pthread_create(&amp;t, <span class="hljs-literal">NULL</span>, func, <span class="hljs-literal">NULL</span>);
  sleep(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">pthread_t</span> t2;
  pthread_create(&amp;t2, <span class="hljs-literal">NULL</span>, func02, <span class="hljs-literal">NULL</span>);
  sleep(<span class="hljs-number">1</span>);
  pthread_kill(t2, SIGSEGV);
  sleep(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>pthread tid = 140581246330624
pthread tid = 140581237937920
thread-defined
</code></pre><p>&#x4ECE;&#x4E0A;&#x9762;&#x7A0B;&#x5E8F;&#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7EBF;&#x7A0B; t2 &#x6267;&#x884C;&#x7684;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x662F; sig2 &#x800C;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x662F;&#x5728;&#x7EBF;&#x7A0B; t1 &#x6267;&#x884C;&#x7684;&#x51FD;&#x6570; func &#x5F53;&#x4E2D;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7EBF;&#x7A0B; t1 &#x4FEE;&#x6539;&#x7684;&#x7ED3;&#x679C;&#x786E;&#x5B9E;&#x5F97;&#x5230;&#x4E86;&#x54CD;&#x5E94;&#xFF0C;&#x4ECE;&#x8FD9;&#x4E00;&#x70B9;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4FEE;&#x6539;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x662F;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x5176;&#x4ED6;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x3002;</p>
<h2 id="&#x603B;&#x7ED3;">&#x603B;&#x7ED3;</h2>
<p>&#x5728;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5F53;&#x4E2D;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x4E00;&#x4E9B;&#x57FA;&#x7840;&#x4E86;&#x7EBF;&#x7A0B;&#x81EA;&#x5DF1;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#x53BB;&#x9A8C;&#x8BC1;&#x4E86;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#xFF0C;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x4ECE;&#x6839;&#x672C;&#x4E0A;&#x53BB;&#x7406;&#x89E3;&#x7EBF;&#x7A0B;&#xFF0C;&#x5176;&#x5B9E;&#x7EBF;&#x7A0B;&#x6D89;&#x53CA;&#x7684;&#x4E1C;&#x897F;&#x5B9E;&#x5728;&#x592A;&#x591A;&#x4E86;&#xFF0C;&#x5728;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x91CC;&#x9762;&#x53EA;&#x662F;&#x5217;&#x4E3E;&#x5176;&#x4E2D;&#x7684;&#x90E8;&#x5206;&#x4F8B;&#x5B50;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#x8BF4;&#x660E;&#xFF0C;&#x5728;&#x540E;&#x7EED;&#x7684;&#x6587;&#x7AE0;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x4F1A;&#x7EE7;&#x7EED;&#x6DF1;&#x5165;&#x7684;&#x53BB;&#x8C08;&#x8FD9;&#x4E9B;&#x673A;&#x5236;&#xFF0C;&#x6BD4;&#x5982;&#x7EBF;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#xFF0C;&#x7EBF;&#x7A0B;&#x7684;&#x53D6;&#x6D88;&#xFF0C;&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x7684;&#x540C;&#x6B65;&#x7B49;&#x7B49;&#x3002;</p>
<p>&#x66F4;&#x591A;&#x7CBE;&#x5F69;&#x5185;&#x5BB9;&#x5408;&#x96C6;&#x53EF;&#x8BBF;&#x95EE;&#x9879;&#x76EE;&#xFF1A;<a href="https://github.com/Chang-LeHung/CSCore" target="_blank">https://github.com/Chang-LeHung/CSCore</a></p>
<p>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;&#x4E00;&#x65E0;&#x662F;&#x5904;&#x7684;&#x7814;&#x7A76;&#x50E7;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x8BA1;&#x7B97;&#x673A;&#xFF08;Java&#x3001;Python&#x3001;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x57FA;&#x7840;&#x3001;&#x7B97;&#x6CD5;&#x4E0E;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF09;&#x77E5;&#x8BC6;&#x3002;</p>
<p><img src="https://img2022.cnblogs.com/blog/2519003/202207/2519003-20220703200459566-1837431658.jpg" alt=""></p>

<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="01pthread.html" class="navigation navigation-prev " aria-label="Previous page: Pthread 并发编程（一）——深入剖析线程基本元素和状态">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="03pthread.html" class="navigation navigation-next " aria-label="Next page: Pthread 并发编程（三）——深入理解线程取消机制">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Pthread 并发编程（二）——自底向上深入理解线程","level":"1.10.2","depth":2,"next":{"title":"Pthread 并发编程（三）——深入理解线程取消机制","level":"1.10.3","depth":2,"path":"concurrency/pthread/03pthread.md","ref":"concurrency/pthread/03pthread.md","articles":[]},"previous":{"title":"Pthread 并发编程（一）——深入剖析线程基本元素和状态","level":"1.10.1","depth":2,"path":"concurrency/pthread/01pthread.md","ref":"concurrency/pthread/01pthread.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["popup","fontsettings","-sharing","-livereload"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright @Chang-LeHung","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"page-treeview":{"copyright":"Copyright &#169; aleen42","minHeaderCount":"2","minHeaderDeep":"2"},"search":{},"popup":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"family":"sans","size":2,"theme":"white"},"highlight":{},"anchor-navigation-ex":{"showLevelIcon":false,"showLevel":false,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right","multipleH1":false,"multipleH2":false,"multipleH3":false,"multipleH4":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"concurrency/pthread/02pthread.md","mtime":"2025-10-03T17:39:52.022Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-10-03T18:28:09.654Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

