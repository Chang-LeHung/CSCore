# 前缀、中缀、后缀表达式——你还分不清楚吗？

## 前言

在本篇文章当中主要跟大家介绍中缀和后缀表达式以及他们在表达式求值当中的应用，这一个比较经典的计算机系统基础问题，但是整个过程比较抽象，本文主要通过图解的方法帮助大家理解这个问题。

## 表达式介绍

后缀表达式也称作逆波兰表达式，前缀表达式也称作波兰表达式，这个是因为这是由波兰数学家**杨-武卡谢维奇**提出来的，用于简化命题逻辑的一种方法。

### 中缀表达式

我们常见的数学表达式就是中缀表达式，比如说：$1 + 2$，像这种我们从小到大经常见到的表达式就叫做中缀表达式，这个表达式的特点就是将**运算符**（加减乘除）放在两个操作数（数字）中间，将**操作数**放在**运算符**的两边。

### 后缀表达式

后缀表达式和中缀表达式的最大区别就是，他不是将**运算符**放在**操作数**中间，而是将**运算符**放在**操作数**后面，比如上面的中缀表达式$1 + 2$转化成后缀表达式就为$12+$。

### 前缀表达式

前缀表达式就是将**运算符**放在**操作数**的前面，比如上面的中缀表达式$1 + 2$转化成前缀表达式之后为$+12$。

### 表达式之间转化的例子

上面的表达式还是比较简单，可能不足以帮助大家好好理解表达式之间的转化过程。

中缀表达式：$A + B * (C - D) - E / F$

现在我们来将上面的中缀表达式转化成后缀表达式，我们的第一个计算的部分如下：

<img src="../images/expression/01.png" alt="01" style="zoom:80%;" />

根据我们的转化原理：将**运算符**放在**操作数**后面，

<img src="../images/expression/02.png" alt="01" style="zoom:80%;" />

上面的得到的后缀表达式继续进行转化：

<img src="../images/expression/05.png" alt="01" style="zoom:80%;" />

继续进行转化：

<img src="../images/expression/06.png" alt="01" style="zoom:80%;" />

继续进行转化：

<img src="../images/expression/07.png" alt="01" style="zoom:80%;" />

得到最终的结果：

<img src="../images/expression/08.png" alt="01" style="zoom:80%;" />

## 程序如何将中缀表达式转化成后缀表达式

将中缀表达式转化成后缀表达式有一下几条规则：

- 从左到右进行遍历。
- 遇到操作数，直接加入到后缀表达式当中。
- 遇到界限符。遇到“(”直接入栈，遇到“)”则依次弹出栈内运算符并加入后缀表达式，直到弹出“(” 为止，注意:“(” 不加入后缀表达式。
- 遇到运算符。依次弹出栈中优先级高于或等于当前运算符的所有运算符，并加入后缀表达式，若碰到“(”或栈空则停止。之后再把当前运算符入栈。

现在我们根据上面的规则来将上文当中的中缀表达式转化成后缀表达式。

- 遍历到$A$，根据第二条规则，将$A$加入到后缀表达式当中，当前的后缀表达式为：$A$。

<img src="../images/expression/09.png" alt="01" style="zoom:80%;" />

- 