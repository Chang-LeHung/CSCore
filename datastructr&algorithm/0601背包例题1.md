# 01背包面试题系列（一）

## 题目描述——[分割等和子集](https://leetcode.cn/problems/partition-equal-subset-sum/)

>给你一个 **只包含正整数** 的 **非空** 数组 `nums` 。请你判断是否可以将这个数组分割成两个子集，使得两个子集的元素和相等。
>
>**示例 1：**
>
>```java
>输入：nums = [1,5,11,5]
>输出：true
>解释：数组可以分割成 [1, 5, 5] 和 [11] 。
>```
>
>**示例 2：**
>
>```
>输入：nums = [1,2,3,5]
>输出：false
>解释：数组不能分割成两个元素和相等的子集。
>```

## 01背包动态规划求解

上面的问题乍一看好像是一个子集划分的问题，我们可能根据数据`nums`得到它的所有的子集，然后将所有的自己加起来看看是否存在一个子集的数据的和等于`nums`数组所有数据的和的一半，其实我们确实可以这样做，我们将在后文当中仔细探讨这个方法。

那么我们改如何使用**01背包**去解决这个问题呢？我们首先先回顾一下**01背包**解决了什么问题：

>有 $N$件物品和一个容量是 $V$ 的背包。每件物品只能使用`一次`。第$i$件物品的体积是$v_i$，价值是 $w_i$。求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。

**01背包**就是给定一定容量的背包，看他能够装入物品的最大的价值。那么我们该如何将上述问题转化成**01背包**呢？

我们可以这样，将`nums`数组当中的数值变成物品对应的价值和体积，比如说`nums = [1, 2, 3]`，我们就可以分成三个物品，这三个物品的体积和价值分别是`1和1`、`2和2`和`3和3`，我们背包的容量为`V = (1 + 2 + 3) / 2`。我们将`nums`数组当中所有数据和的一半作为背包的容量，`nums`当中的数值就表示每一个物品的价值和体积，而且价值和体积都相等，如果我们能够恰好装满背包就说明，存在一种物品的组合他的和为`nums`数组当中数据的和的一半。

那么我们该如何判断背包被恰好装满呢？我们知道背包问题求解的只是在背包容量一定的情况下，我们能够获取的最大的价值是多少，因此好像不能够判断背包是否装满！但是在上面转化的过程当中物品的体积和价值是相等的，因为我们可以根据我们获得的最大价值判断，如果我们最终得到的收益等于背包的容量，那么说明背包被填满了，也就是存在一种物品的组合我们能够获取的最大的价值等于数组当中数据和的一半。因为物品的价值和体积相等，因此把背包填满和获取最大价值是等价的。

因此根据上面的分析，如果我们想用01背包去解决这个问题，我们可以将背包容量设置为`nums`数组当中数据和的一半，物品的个数为数组的长度，物品的价值和体积为数组当中对应位置的值，然后进行01背包求解即可。

因此我们的代码如下：

```java
class Solution {
    private List<List<Integer>> ans = new ArrayList<>();
    public List<List<Integer>> combine(int n, int k) {
        backTrace(n, k, new ArrayList<>(), 1);
        return ans;
    }

    public void backTrace(int n, int k, List<Integer> path, int curIndex) {
        if (path.size() == k) {
            ans.add(new ArrayList<>(path));
            return;
        } else if ((n - curIndex + 1 + path.size()) < k )
            return;
        for (int i = curIndex; i <= n; i++) {
            path.add(i);
            backTrace(n, k, path, i +1 );
            path.remove(path.size() - 1);
        }
    }
}
```

